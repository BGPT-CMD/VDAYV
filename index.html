<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's Surprise</title>
<style>
  body {
    background: linear-gradient(120deg, #ffe6e6, #ffb3cc);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: 'Arial', sans-serif;
    text-align: center;
    overflow: hidden;
    transition: opacity 1s ease;
    opacity: 1;
  }

  body.fade-out {
    opacity: 0;
  }

  h1 {
    font-size: 2.2em;
    margin-bottom: 40px;
  }

  .heart-btn {
    font-size: 3em;
    padding: 25px 35px;
    border: none;
    border-radius: 50%;
    background: #ff4d94;
    color: white;
    cursor: pointer;
    outline: none;
    animation: pulse 1s infinite;
    z-index: 1;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    width: 100%;
    height: 100%;
    z-index: 0;
  }
</style>
</head>
<body>
<h1>Click the Heart for a Valentine Surprise! ❤️</h1>
<button class="heart-btn" id="heartBtn">❤️</button>
<canvas id="confetti"></canvas>

<script>
  const heartBtn = document.getElementById('heartBtn');
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  heartBtn.addEventListener('click', () => {
    document.body.classList.add('fade-out'); // fade out
    launchConfetti(); // confetti effect
    setTimeout(() => {
      window.location.href = "valentine.html"; // redirect
    }, 1000);
  });

  function launchConfetti() {
    const confettiCount = 100;
    const confetti = [];
    for (let i = 0; i < confettiCount; i++) {
      confetti.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        r: Math.random() * 6 + 4,
        tilt: Math.random() * 10 - 10,
        tiltAngleIncrement: Math.random() * 0.07 + 0.05,
        tiltAngle: 0,
        emoji: '❤️'
      });
    }

    let angle = 0;
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      confetti.forEach(c => {
        ctx.font = c.r * 2 + "px Arial";
        ctx.fillText(c.emoji, c.x + c.tilt, c.y);
      });
      update();
    }

    function update() {
      angle += 0.01;
      confetti.forEach(c => {
        c.tiltAngle += c.tiltAngleIncrement;
        c.y += (Math.cos(angle + c.r) + 3 + c.r / 2) / 2;
        c.tilt = Math.sin(c.tiltAngle) * 15;
        if (c.y > canvas.height) {
          c.y = -10;
          c.x = Math.random() * canvas.width;
        }
      });
    }

    const interval = setInterval(draw, 20);
    setTimeout(() => clearInterval(interval), 1000);
  }

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>
</body>
</html>
